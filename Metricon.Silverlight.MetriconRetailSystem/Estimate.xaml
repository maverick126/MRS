<navigation:Page x:Class="Metricon.Silverlight.MetriconRetailSystem.Estimate" 
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
           xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
           xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
           xmlns:vm="clr-namespace:Metricon.Silverlight.MetriconRetailSystem.ViewModels"  
           xmlns:lc="clr-namespace:Metricon.Silverlight.MetriconRetailSystem"       
           xmlns:sys="clr-namespace:System;assembly=mscorlib"                
           mc:Ignorable="d"
           xmlns:navigation="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Navigation"
           xmlns:converter="clr-namespace:Metricon.Silverlight.MetriconRetailSystem.ValueConverter"      
           d:DesignWidth="1200"
           Title="Estimate Page" d:DesignHeight="379">

    <UserControl.Resources>
        <vm:EstimateViewModel x:Key="EstimateVM"></vm:EstimateViewModel>
        <converter:BooleanToVisibilityConverter x:Key="MyBooleanToVisibilityConverter" />
        <converter:PrePackageItemDeleteEnableBooleanConverter x:Key="MyPrePackageItemDeleteEnableBooleanConverter" />    
        <converter:BooleanToVisibilityCollapsedConverter x:Key="MyBooleanToVisibilityCollapsedConverter" />
        <converter:DateTimeToStringConverter x:Key="MyDateTimeToStringConverter" />
        <SolidColorBrush x:Key="GridViewDisabledBackground" Color="#FFEEEEEE"/>
        <LinearGradientBrush x:Key="GridViewIndicatorsPartsFill" StartPoint="0.5,0" EndPoint="0.5,1">
            <GradientStop Offset="0" Color="#FF000000"/>
            <GradientStop Offset="1" Color="#FF000000"/>
        </LinearGradientBrush>
        <SolidColorBrush x:Key="GridLinesFill" Color="#FFB3B3B3"/>

        <ControlTemplate x:Key="GridViewToggleButtonTemplate" TargetType="telerik:GridViewToggleButton">
            <Border HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <!--<Storyboard>
                                <DoubleAnimationUsingKeyFrames
                                BeginTime="00:00:00"
                                Duration="00:00:00.001"
                                Storyboard.TargetName="plus"
                                Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <EasingDoubleKeyFrame KeyTime="00:00:00" Value="1"/>
                                </DoubleAnimationUsingKeyFrames>
                                <DoubleAnimationUsingKeyFrames
                                BeginTime="00:00:00"
                                Duration="00:00:00.001"
                                Storyboard.TargetName="minus"
                                Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                                </DoubleAnimationUsingKeyFrames>
                            </Storyboard>-->
                        </VisualState>
                        <VisualState x:Name="MouseOver">
                        </VisualState>
                        <VisualState x:Name="Disabled"/>
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="CheckStates">
                        <VisualState x:Name="Checked">
                            <Storyboard>
                                <DoubleAnimationUsingKeyFrames
                                BeginTime="00:00:00"
                                Duration="00:00:00.001"
                                Storyboard.TargetName="plus"
                                Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                                </DoubleAnimationUsingKeyFrames>
                                <DoubleAnimationUsingKeyFrames
                                BeginTime="00:00:00"
                                Duration="00:00:00.001"
                                Storyboard.TargetName="minus"
                                Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <EasingDoubleKeyFrame KeyTime="00:00:00" Value="1"/>
                                </DoubleAnimationUsingKeyFrames>
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="Unchecked"/>
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="FocusStates">
                        <VisualState x:Name="Focused"/>
                        <VisualState x:Name="Unfocused"/>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
                <Grid>

                    <Image x:Name="minus" Source="./images/minus.png" Height="24" Width="24"/>
                    <Image x:Name="plus" Source="./images/plus.png" Height="24" Width="24"/>

                </Grid>

            </Border>

        </ControlTemplate>
        <Style x:Key="imageStyle" TargetType="telerik:RadTabItem">
            <Setter Property="HeaderTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Grid Height="40" Width="208">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="40"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="30"/>
                                <ColumnDefinition Width="20" />
                            </Grid.ColumnDefinitions>
                            <ContentControl Content="{Binding Name}" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                            <TextBlock Grid.Row="0" Grid.Column="2" Text="{Binding Count}" Visibility="Visible" Margin="0,12,0,0"></TextBlock>
                            <Image Source="./images/accept.png" Height="16" Width="16" Grid.Column="3" Grid.Row="0" Visibility="{Binding Visible}" ToolTipService.ToolTip="All items in this section have been accepted."/>
                        </Grid>
                    </DataTemplate>
                </Setter.Value>
            </Setter>

        </Style>

        <Style TargetType="telerik:GridViewToggleButton">
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="BorderBrush" Value="{StaticResource GridLinesFill}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Template" Value="{StaticResource GridViewToggleButtonTemplate}"/>
            <Setter Property="PlusMinusTemplate" Value="{StaticResource GridViewToggleButtonTemplate}"/>
        </Style>
    </UserControl.Resources>

    <Grid x:Name="LayoutRoot" DataContext="{Binding Source={StaticResource EstimateVM}}">
        <Grid.Resources>

            <vm:AdditionalNotesStyle x:Key="naStyle">
                <vm:AdditionalNotesStyle.NotAvailableStyle>
                    <Style TargetType="telerik:GridViewRow">
                        <Setter Property="Background" Value="#FFDDDDDD"/>
                    </Style>
                </vm:AdditionalNotesStyle.NotAvailableStyle>
            </vm:AdditionalNotesStyle>
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0">
            <telerik:RadDocking BorderThickness="0" Padding="0" PaneStateChange="RadDocking_PaneStateChange">
                <telerik:RadDocking.DocumentHost>
                    <telerik:RadSplitContainer>
                        <telerik:RadPaneGroup>
                            <telerik:RadDocumentPane CanUserClose="False" Height="0">
                                <telerik:RadBusyIndicator Name="BusyIndicator1" BusyContent="Loading..." IsBusy="{Binding IsBusy}" >
                                    <telerik:RadTabControl x:Name="OptionTabControl" 
                                                               ItemsSource="{Binding OptionListTabs}"
                                                               TabOrientation="Horizontal"
                                                               SelectedIndex="{Binding SelectedTabIndex, Mode=TwoWay}"
                                                               ItemContainerStyle="{StaticResource imageStyle}">

                                        <telerik:RadTabControl.ContentTemplate>

                                            <DataTemplate>
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"></RowDefinition>
                                                        <RowDefinition></RowDefinition>
                                                    </Grid.RowDefinitions>
                                                    <!--Set EnableColumnVirtualization=False because we want OptionsGrid_RowLoaded to always get the right number of columns (to disable/enable buttons) -->
                                                    <telerik:RadGridView x:Name="OptionsGrid" Grid.Row="1"
                                                                                                   ItemsSource="{Binding Options}" 
                                                                                                   ShowGroupPanel="False" 
                                                                                                   AutoGenerateColumns="False" 
                                                                                                   EnableRowVirtualization="True"
                                                                                                   EnableColumnVirtualization="False"
                                                                                                   IsReadOnly="True"
                                                                                                   lc:GridViewDragDropBehavior.IsEnabled="True"
                                                                                                   AllowDrop="True"
                                                                                                   RowLoaded="OptionsGrid_RowLoaded"
                                                                                                   Loaded="OptionsGrid_Loaded"
                                                                                                   RowDetailsVisibilityChanged="OptionsGrid_RowDetailsVisibilityChanged"
                                                                                                   FilterOperatorsLoading="OptionsGrid_FilterOperatorsLoading" 
                                                                                                   Filtered="RadGridView_Filtered"
                                                                                                   ColumnWidthChanged="OptionsGrid_ColumnWidthChanged"
                                                                                                   ColumnReordered="OptionsGrid_ColumnReordered"
                                                                                                   CanUserReorderColumns="True"
                                                                        
                                                                                                   RowDetailsVisibilityMode="Collapsed">
                                                        <telerik:RadGridView.RowDetailsTemplate>
                                                            <DataTemplate x:Name="RowDetailsProvider">
                                                                <StackPanel Orientation="Horizontal" Margin="10 10 10 10">
                                                                    <Grid>
                                                                        <Grid.RowDefinitions>
                                                                            <RowDefinition Height="350"></RowDefinition>
                                                                        </Grid.RowDefinitions>
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="10"/>
                                                                            <ColumnDefinition Width="330"/>
                                                                            <ColumnDefinition Width="20"/>
                                                                            <ColumnDefinition Width="*"/>
                                                                        </Grid.ColumnDefinitions>
                                                                        <Grid Grid.Row="0" Grid.Column="1">
                                                                            <Grid.RowDefinitions>
                                                                                <RowDefinition Height="2"></RowDefinition>
                                                                                <RowDefinition Height="20"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="20"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="20"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="20"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="20"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="23"></RowDefinition>
                                                                                <RowDefinition Height="2"></RowDefinition>
                                                                                <RowDefinition Height="23"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="23"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="20"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="20"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="23"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="23"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="23"></RowDefinition>
                                                                                <RowDefinition Height="1"></RowDefinition>
                                                                                <RowDefinition Height="23"></RowDefinition>                                                                                
                                                                                <RowDefinition Height="10"></RowDefinition>
                                                                                <RowDefinition Height="23"></RowDefinition>
                                                                            </Grid.RowDefinitions>
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width=".1*"/>
                                                                                <ColumnDefinition Width=".1*"/>
                                                                            </Grid.ColumnDefinitions>
                                                                            <TextBlock x:Name="txtEstimateDeatilsID" Grid.Row="0" Grid.Column="0" Text="{Binding EstimateDetailsId, Mode=OneWay}" MaxWidth="0" Width="0"></TextBlock>
                                                                            <TextBlock Grid.Row="1" Grid.Column="0">Quantity:</TextBlock>
                                                                            <TextBox x:Name="txtQuantity" Grid.Row="1" Grid.Column="1" Text="{Binding UpdatedQuantity, Mode=TwoWay}" LostFocus="txtQuantity_LostFocus"></TextBox>
                                                                            <TextBlock Grid.Row="3" Grid.Column="0">Unit Price(inc GST):</TextBlock>
                                                                            <TextBox x:Name="txtPrice" Grid.Row="3" Grid.Column="1" Text="{Binding UpdatedPrice, Mode=TwoWay}" LostFocus="txtPrice_LostFocus"></TextBox>
                                                                            <TextBlock Grid.Row="5" Grid.Column="0">Sub Total:</TextBlock>
                                                                            <TextBox x:Name="txtSubtotal" Grid.Row="5" Grid.Column="1" Text="{Binding UpdatedTotalPrice, Mode=OneWay, StringFormat=\{0:0.00\}}" FontWeight="Bold"></TextBox>
                                                                            <TextBlock Grid.Row="7" Grid.Column="0">Accepted:</TextBlock>
                                                                            <CheckBox x:Name="chkAccepted" Grid.Row="7" Grid.Column="1" IsChecked="{Binding UpdatedItemAccepted, Mode=TwoWay}"></CheckBox>
                                                                            <TextBlock Grid.Row="9" Grid.Column="0">UOM:</TextBlock>
                                                                            <TextBlock Grid.Row="9" Grid.Column="1" Text="{Binding Uom, Mode=OneWay}"></TextBlock>
                                                                            <TextBlock Grid.Row="11" Grid.Column="0">Area:</TextBlock>
                                                                            <telerik:RadComboBox Name="cmbCategory"  Grid.Row="11" Grid.Column="1" 
                                                                                  ItemsSource="{Binding Path=EstimateNonStandardCategory, Mode=OneWay}"             
                                                                                  SelectedValue="{Binding Path=UpdatedNonstandardCategoryID, Mode=TwoWay}"
                                                                                  SelectionChanged="cmbCategory_SelectionChanged"
                                                                                  DisplayMemberPath="CategoryName"
                                                                                  SelectedValuePath="CategoryId"/>
                                                                            <TextBlock Grid.Row="13" Grid.Column="0">Group:</TextBlock>
                                                                            <telerik:RadComboBox Name="cmbGroup"  Grid.Row="13" Grid.Column="1" 
                                                                                  ItemsSource="{Binding Path=EstimateNonStandardGroup, Mode=OneWay}" 
                                                                                  SelectedValue="{Binding Path=UpdatedNonstandardGroupID, Mode=TwoWay}"
                                                                                  DisplayMemberPath="GroupName"
                                                                                  SelectedValuePath="GroupId"/>
                                                                            <TextBlock Grid.Row="15" Grid.Column="0">Price Display Code:</TextBlock>
                                                                            <telerik:RadComboBox Name="cmbPriceDisplay"  Grid.Row="15" Grid.Column="1" 
                                                                                  ItemsSource="{Binding Path=EstimateNonStandardPriceDisplayCode, Mode=OneWay}" 
                                                                                  DisplayMemberPath="PriceDisplayCodeDescription"
                                                                                  SelectedValuePath="PriceDisplayCodeId" SelectionChanged="cmbPriceDisplay_SelectionChanged"/>
                                                                            <TextBlock x:Name="txtPriceDisplay" Grid.Row="15" Grid.Column="1" Text="{Binding PriceDisplayCodeDesc, Mode=OneWay}"></TextBlock>
                                                                            <TextBlock Grid.Row="17" Grid.Column="0">Is Site Work Item:</TextBlock>
                                                                            <CheckBox x:Name="chkSitework" Grid.Row="17" Grid.Column="1" IsChecked="{Binding UpdatedSiteWorkItem, Mode=TwoWay}"></CheckBox>
                                                                            <TextBlock x:Name="lblderivedcost" Grid.Row="19" Grid.Column="0">Derived Cost:</TextBlock>
                                                                            <CheckBox x:Name="chkDerivedCost" Grid.Row="19" Grid.Column="1" IsChecked="{Binding DerivedCost, Mode=OneWay}" IsEnabled="False" ></CheckBox>
                                                                            <TextBlock x:Name="lblBTPcost" Grid.Row="21" Grid.Column="0" >Budgeted Unit Cost(ex GST):</TextBlock>
                                                                            <TextBox x:Name="txtBTPCostExcGST" Grid.Row="21" Grid.Column="1" Text="{Binding UpdatedBTPCostExcGST, Mode=TwoWay}" LostFocus="txtBTPCostExcGST_LostFocus" ></TextBox>
                                                                            <TextBlock x:Name="lblDBCcost" Grid.Row="23" Grid.Column="0" >Current Unit Cost(ex GST):</TextBlock>
                                                                            <TextBox x:Name="txtDBCCostExcGST" Grid.Row="23" Grid.Column="1" Text="{Binding UpdatedDBCCostExcGST, Mode=TwoWay}" LostFocus="txtDBCCostExcGST_LostFocus" ></TextBox>
                                                                            <TextBlock x:Name="lblmarginBTPCost" Grid.Row="25" Grid.Column="0" >Budgeted Unit Cost Margin %:</TextBlock>
                                                                            <TextBox x:Name="txtMarginBTPCost" Grid.Row="25" Grid.Column="1" Text="" IsEnabled="False" LostFocus="txtMarginBTPCost_LostFocus"></TextBox>
                                                                            <TextBlock x:Name="lblmarginDBCCost" Grid.Row="27" Grid.Column="0" >Current Unit Cost Margin %:</TextBlock>
                                                                            <TextBox x:Name="txtMarginDBCCost" Grid.Row="27" Grid.Column="1" Text="" IsEnabled="False" LostFocus="txtMarginDBCcost_LostFocus"></TextBox>
                                                                            <!--<telerik:RadButton Grid.Row="5" Grid.Column="0" Width="120"   HorizontalAlignment="Left" Click="btnCheck_Click">Check Spelling</telerik:RadButton>-->
                                                                            <!--<telerik:RadButton x:Name="btnSave" Grid.Row="5" Grid.Column="1" Width="120" HorizontalAlignment="Left" Content="Save" Command="{Binding UpdateDetailsCommand, Source={StaticResource EstimateVM}}"  CommandParameter="{Binding}"></telerik:RadButton>-->
                                                                            <!--<telerik:RadButton Grid.Row="5" Grid.Column="0" Width="120"   HorizontalAlignment="Left" Click="btnCheck_Click">Check Spelling</telerik:RadButton>-->
                                                                            <StackPanel Grid.Row="29" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal">
                                                                                <telerik:RadButton x:Name="btnSave"  Width="90" HorizontalAlignment="Left" Click="btnSave_Click">
                                                                                    <StackPanel Orientation="Horizontal">
                                                                                        <Image Source="./images/save.png" Height="16" Width="16"></Image>
                                                                                        <TextBlock Margin="5 0 0 0">Save</TextBlock>
                                                                                    </StackPanel>
                                                                                </telerik:RadButton>
                                                                                <telerik:RadButton x:Name="btnCancel"  Width="90" HorizontalAlignment="Left" Margin="5 0 0 0" Click="btnCancel_Click">
                                                                                    <StackPanel Orientation="Horizontal">
                                                                                        <Image Source="./images/cancel.png" Height="16" Width="16"></Image>
                                                                                        <TextBlock Margin="5 0 0 0">Cancel</TextBlock>
                                                                                    </StackPanel>
                                                                                </telerik:RadButton>
                                                                                <telerik:RadButton x:Name="btnItemSpellCheck" Width="100" HorizontalAlignment="Left" Margin="5 0 0 0" Click="btnCheck_Click">
                                                                                    <StackPanel Orientation="Horizontal">
                                                                                        <Image Source="./images/book_edit.png" Height="16" Width="16"></Image>
                                                                                        <TextBlock Margin="5 0 0 0">Spell Check</TextBlock>
                                                                                    </StackPanel>
                                                                                </telerik:RadButton>
                                                                            </StackPanel>
                                                                            <TextBlock Name="txbproductid" Text="{Binding ProductId}" Grid.Row="12" Visibility="Collapsed"></TextBlock>
                                                                        </Grid>
                                                                        <Grid Grid.Row="0" Grid.Column="3">
                                                                            <telerik:RadBusyIndicator Name="StudioMBusyIndicator" BusyContent="Loading..." IsBusy="False" >
                                                                                <telerik:RadTabControl BackgroundVisibility="Collapsed" x:Name="tabDesc" Width="850" SelectionChanged="tabDesc_SelectionChanged">
                                                                                    <telerik:RadTabItem Padding="4 1" Name="tabstandarddesc">
                                                                                        <telerik:RadTabItem.Header>
                                                                                            <TextBlock Text="Standard Description" Margin="20 10 20 10" />
                                                                                        </telerik:RadTabItem.Header>
                                                                                        <telerik:RadTabItem.Content>
                                                                                            <TextBox Grid.Row="0" Grid.Column="1" BorderBrush="#BFDBFF" BorderThickness="1,1" Margin="10" x:Name="txtDesc" Text="{Binding UpdatedProductDescription, Mode=TwoWay}" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" IsReadOnly="True"></TextBox>
                                                                                        </telerik:RadTabItem.Content>
                                                                                    </telerik:RadTabItem>
                                                                                    <telerik:RadTabItem Padding="4 1" Name="tabadditionaldesc">
                                                                                        <telerik:RadTabItem.Header>
                                                                                            <Grid>
                                                                                                <TextBlock Text="Additional Notes" Margin="10 0 15 0"/>
                                                                                                <Image Source="./images/text-smallcaps-icon.png" Height="16" Width="16" Visibility="Collapsed" Name="imgAdditional" ToolTipService.ToolTip="There are additional notes." Margin="110 0 5 0"/>
                                                                                            </Grid>
                                                                                        </telerik:RadTabItem.Header>
                                                                                        <telerik:RadTabItem.Content>
                                                                                            <TextBox BorderBrush="#BFDBFF" BorderThickness="1,1" Margin="10" x:Name="txtAdditionalNotes" Width="auto" Text="{Binding UpdatedAdditionalNotes, Mode=TwoWay}" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"></TextBox>
                                                                                        </telerik:RadTabItem.Content>
                                                                                    </telerik:RadTabItem>
                                                                                    <telerik:RadTabItem Padding="4 1" Name="tabextradesc">
                                                                                        <telerik:RadTabItem.Header>
                                                                                            <Grid>
                                                                                                <TextBlock Text="Extra Description" Margin="19 2 15 0" />
                                                                                                <Image Source="./images/text-smallcaps-icon.png" Height="16" Width="16" Visibility="Collapsed" Name="imgExtra" ToolTipService.ToolTip="There is extra description." Margin="120 0 5 0"/>
                                                                                            </Grid>
                                                                                        </telerik:RadTabItem.Header>
                                                                                        <telerik:RadTabItem.Content>
                                                                                            <TextBox BorderBrush="#BFDBFF" BorderThickness="1,1" Margin="10" x:Name="txtExtraDesc" Width="auto" Text="{Binding UpdatedExtraDescription, Mode=TwoWay}" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"></TextBox>
                                                                                        </telerik:RadTabItem.Content>
                                                                                    </telerik:RadTabItem>
                                                                                    <telerik:RadTabItem Padding="4 1" Name="tabinternaldesc">
                                                                                        <telerik:RadTabItem.Header>
                                                                                            <Grid>
                                                                                                <TextBlock Text="Internal Notes" Margin="19 2 15 0" />
                                                                                                <Image Source="./images/text-smallcaps-icon.png" Height="16" Width="16" Visibility="Collapsed" Name="imgInternal" ToolTipService.ToolTip="There is internal notes." Margin="135 0 5 0"/>
                                                                                            </Grid>
                                                                                        </telerik:RadTabItem.Header>
                                                                                        <telerik:RadTabItem.Content>
                                                                                            <TextBox BorderBrush="#BFDBFF" BorderThickness="1,1" Margin="10" x:Name="txtInternalDesc" Width="auto" Text="{Binding UpdatedInternalDescription, Mode=TwoWay}" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"></TextBox>
                                                                                        </telerik:RadTabItem.Content>
                                                                                    </telerik:RadTabItem>

                                                                                    <telerik:RadTabItem Padding="4 1" Name="phototab">
                                                                                        <telerik:RadTabItem.Header>
                                                                                            <TextBlock Text="Photos" Margin="19 2 19 0" />
                                                                                        </telerik:RadTabItem.Header>
                                                                                        <telerik:RadTabItem.Content>
                                                                                            <ScrollViewer Name="imgscroll" Width="980" Height="auto" Margin="10,10,10,10" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Hidden" BorderThickness="0">
                                                                                                <Grid Name="imagegrid" Width="auto" Height="auto" Margin="5 2 15 0" HorizontalAlignment="Left"></Grid>
                                                                                            </ScrollViewer>
                                                                                        </telerik:RadTabItem.Content>
                                                                                    </telerik:RadTabItem>
                                                                                    <telerik:RadTabItem Padding="4 1" Name="studiomtab" Visibility="Collapsed">
                                                                                        <telerik:RadTabItem.Header>
                                                                                            <TextBlock Text="Studio M" Margin="19 2 19 0" />
                                                                                        </telerik:RadTabItem.Header>
                                                                                        <telerik:RadTabItem.Content>
                                                                                            <ScrollViewer Name="QAScroll" Width="auto" Height="240" Margin="10,10,10,10" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Auto" BorderThickness="0" >

                                                                                                <Grid Name="studiomgrid" Width="980" Height="auto" Margin="19 2 19 0"  HorizontalAlignment="Left" >
                                                                                                    <!--<Grid.RowDefinitions>
                                                                                                                                            <RowDefinition Height="10"></RowDefinition>
                                                                                                                                            <RowDefinition Height="22"></RowDefinition>
                                                                                                                                            <RowDefinition Height="20"></RowDefinition>
                                                                                                                                            <RowDefinition Height="*"></RowDefinition>
                                                                                                                                         </Grid.RowDefinitions>
                                                                                                                                        <Grid.ColumnDefinitions>
                                                                                                                                            <ColumnDefinition Width="350"></ColumnDefinition>
                                                                                                                                            <ColumnDefinition Width="10"></ColumnDefinition>
                                                                                                                                            <ColumnDefinition Width="500"></ColumnDefinition>
                                                                                                                                            <ColumnDefinition Width="*"></ColumnDefinition>
                                                                                                                                        </Grid.ColumnDefinitions>
                                                                                                                                        <Border VerticalAlignment="Center" Grid.Row="2" Grid.ColumnSpan="4" Height="3" BorderThickness="2" BorderBrush="AliceBlue"></Border>
                                                                                            
                                                                                                                            <Grid x:Name="QAGrid" Height="Auto" Width="Auto" >


                                                                                                                            </Grid>-->

                                                                                                </Grid>

                                                                                            </ScrollViewer>
                                                                                        </telerik:RadTabItem.Content>
                                                                                    </telerik:RadTabItem>
                                                                                    <telerik:RadTabItem Padding="4 1" Name="radTabItemAuditlog">
                                                                                        <telerik:RadTabItem.Header>
                                                                                            <Grid>
                                                                                                <TextBlock Text="Audit Log" Margin="19 2 15 0" />
                                                                                                <Image Source="./images/text-smallcaps-icon.png" Height="16" Width="16" Visibility="Collapsed" Name="imageAuditLogDetail" ToolTipService.ToolTip="There is audit log for an estimate item." Margin="120 0 5 0"/>
                                                                                            </Grid>
                                                                                        </telerik:RadTabItem.Header>
                                                                                        <telerik:RadTabItem.Content>
                                                                                            <telerik:RadGridView x:Name="gridAuditLog" ShowGroupPanel="False" AutoGenerateColumns="False" Margin="0,5,0,0" RowIndicatorVisibility="Collapsed" >

                                                                                                <telerik:RadGridView.Columns>

                                                                                                    <telerik:GridViewDataColumn DataMemberBinding="{Binding RevisionNumber, Mode=OneWay}" Header="Revision" Width="75" IsReadOnly="True" />
                                                                                                    <telerik:GridViewDataColumn DataMemberBinding="{Binding RevisionType, Mode=OneWay}" Header="Type" Width="75" IsReadOnly="True" />

                                                                                                    <telerik:GridViewDataColumn DataMemberBinding="{Binding Description, Mode=OneWay}" Header="Activity Detail" Width="*" IsReadOnly="True" />

                                                                                                    <telerik:GridViewDataColumn DataMemberBinding="{Binding User, Mode=OneWay}" Header="Owner" Width="125" IsReadOnly="True" />

                                                                                                    <telerik:GridViewDataColumn DataMemberBinding="{Binding LogTime, Mode=OneWay, Converter={StaticResource MyDateTimeToStringConverter}}" Header="Timestamp" Width="150" IsReadOnly="True" />

                                                                                                </telerik:RadGridView.Columns>

                                                                                            </telerik:RadGridView>
                                                                                        </telerik:RadTabItem.Content>
                                                                                    </telerik:RadTabItem>
                                                                                </telerik:RadTabControl>
                                                                            </telerik:RadBusyIndicator>
                                                                        </Grid>
                                                                    </Grid>
                                                                </StackPanel>
                                                            </DataTemplate>
                                                        </telerik:RadGridView.RowDetailsTemplate>
                                                        <telerik:RadGridView.Columns>
                                                            <!--<telerik:GridViewColumn Width="30">
                                                                <telerik:GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <Button Content="+" Click="HandleExpandCollapseForRow"></Button>
                                                                    </DataTemplate>
                                                                </telerik:GridViewColumn.CellTemplate>
                                                            </telerik:GridViewColumn>-->
                                                            <telerik:GridViewToggleRowDetailsColumn />
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding AreaName, Mode=OneWay}" IsReadOnly="True" UniqueName="ColArea" Header="Area Name" Width="*">
                                                                <!--Width="*" is important to make sure that the Grid Column render correctly-->
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding AreaName}" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding GroupName, Mode=OneWay}" IsReadOnly="True" UniqueName="ColGroup" Header="Group Name">
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding GroupName}" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewDataColumn Header="Product" DataMemberBinding="{Binding ProductName, Mode=OneWay}" UniqueName="ColProductName" IsReadOnly="True">
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding ProductName}" TextWrapping="Wrap"/>
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewDataColumn Header="Product Description" IsReadOnly="True" UniqueName="ColProductDesc">
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding ProductDescriptionShort}" TextWrapping="Wrap"/>
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewDataColumn Header="Additional Notes" IsReadOnly="True" UniqueName="ColAdditionalNotes">
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding AdditionalNotes}" TextWrapping="Wrap"/>
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewDataColumn Header="Quantity" DataFormatString="{}{0:F}" UniqueName="ColQuantity">
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding Quantity}" HorizontalAlignment="Right" />
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                                <telerik:GridViewDataColumn.CellEditTemplate>
                                                                    <DataTemplate>
                                                                        <TextBox Text="{Binding Quantity, Mode=TwoWay}" HorizontalAlignment="Right"  />
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellEditTemplate>

                                                            </telerik:GridViewDataColumn>

                                                            <!--<telerik:GridViewDataColumn Header="Unit Price" DataFormatString="{}{0:C2}" UniqueName="ColPrice">
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding Price}" HorizontalAlignment="Right"/>
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                                <telerik:GridViewDataColumn.CellEditTemplate>
                                                                    <DataTemplate>
                                                                        <TextBox Text="{Binding Price, Mode=TwoWay}" HorizontalAlignment="Right" />
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellEditTemplate>
                                                            </telerik:GridViewDataColumn>-->

                                                            <telerik:GridViewDataColumn Header="Unit Price" DataFormatString="{}{0:C2}" UniqueName="ColPrice" DataMemberBinding="{Binding Price,Mode=OneWay}" TextAlignment="Right" />
                                                            <telerik:GridViewDataColumn Header="Total" DataFormatString="{}{0:C2}" UniqueName="ColTotal" DataMemberBinding="{Binding TotalPrice,Mode=OneWay}" TextAlignment="Right" />

                                                            <telerik:GridViewDataColumn Header="Margin %" DataFormatString="{}{0:N2}"  UniqueName="ColMarginPercent"  DataMemberBinding="{Binding MarginString,Mode=OneWay}" IsVisible="{Binding IsColMarginPercentAvailable, Source={StaticResource EstimateVM}}" TextAlignment="Right">                                                               
                                                            </telerik:GridViewDataColumn>

                                                            <telerik:GridViewDataColumn Header="UOM" UniqueName="ColUom">
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding Uom}" HorizontalAlignment="Center"/>
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                                <telerik:GridViewDataColumn.CellEditTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding Uom}" HorizontalAlignment="Center"/>
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellEditTemplate>
                                                            </telerik:GridViewDataColumn>
                                                            <!--<telerik:GridViewDataColumn Header="Promo" TextAlignment="Center" Width="50">
                                                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                                                    <DataTemplate>
                                                                                                        <CheckBox IsChecked="{Binding PromotionProduct,Mode=OneWay}" IsEnabled="False"/>
                                                                                                    </DataTemplate>
                                                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                                                            </telerik:GridViewDataColumn>-->
                                                            <telerik:GridViewDataColumn Header="Accepted" TextAlignment="Center" UniqueName="ColAccepted" DataMemberBinding="{Binding ItemAccepted,Mode=TwoWay}">
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <CheckBox x:Name="chkAccept" IsChecked="{Binding ItemAccepted,Mode=TwoWay}" Click="CheckBox_Click" HorizontalAlignment="Center"/>
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewDataColumn  IsReadOnly="True" UniqueName="ColSoSi" SortMemberPath="SOSI">
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <Grid>
                                                                            <Grid.RowDefinitions>
                                                                                <RowDefinition></RowDefinition>
                                                                                <RowDefinition></RowDefinition>
                                                                            </Grid.RowDefinitions>
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition></ColumnDefinition>
                                                                            </Grid.ColumnDefinitions>
                                                                            <Image Grid.Row="0" Grid.Column="0" Margin="0,0,0,0" HorizontalAlignment="Left" Source="{Binding SOSI}" Height="16" Width="16" ToolTipService.ToolTip="{Binding SOSIToolTips}" x:Name="iconimage"/>
                                                                            <Image Grid.Row="1" Grid.Column="0" Margin="0,0,0,0" HorizontalAlignment="Left" Source="./images/home_land_package.png" Height="16" Width="16" Visibility="{Binding Path=IsPrePackageItem, Converter={StaticResource MyBooleanToVisibilityConverter}}" ToolTipService.ToolTip="{Binding PrePackageItemDescription}"/>
                                                                        </Grid>
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewColumn UniqueName="ColReplace" TextAlignment="Center">
                                                                <telerik:GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <HyperlinkButton x:Name="btnReplace" Click="btnReplace_Click" HorizontalAlignment="Center">
                                                                            <Image Source="./images/new.png" Height="16" Width="16" ToolTipService.ToolTip="Replace" />
                                                                        </HyperlinkButton>
                                                                    </DataTemplate>
                                                                </telerik:GridViewColumn.CellTemplate>
                                                            </telerik:GridViewColumn>
                                                            <telerik:GridViewDataColumn TextAlignment="Center" UniqueName="ColRemove">
                                                                <telerik:GridViewColumn.Header>
                                                                    <Grid Width="60">
                                                                        <HyperlinkButton x:Name="btnRemove" Click="DeleteAllSelectedItemsButton_Click" >
                                                                            <Image Source="./images/delete_new.png" Height="16" Width="16" ToolTipService.ToolTip="Delete all selected items."/>
                                                                        </HyperlinkButton>
                                                                    </Grid>
                                                                </telerik:GridViewColumn.Header>                                                                
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                        <Grid>
                                                                            <HyperlinkButton Click="HyperlinkButton_Click" x:Name="btnRemoveMasterPromotion" Visibility="{Binding Path=IsMasterPromotion, Converter={StaticResource MyBooleanToVisibilityConverter}}">
                                                                                <Image Source="./images/delete.png" Height="16" Width="16" Grid.Column="0" ToolTipService.ToolTip="Delete promotion pack."/>
                                                                            </HyperlinkButton>
                                                                            <!--IsEnabled="{Binding IsPrePackageItem, Converter={StaticResource MyPrePackageItemDeleteEnableBooleanConverter}}"-->
                                                                            <CheckBox x:Name="chkDeleted" IsChecked="{Binding UpdatedItemDeleted,Mode=TwoWay}" Click="CheckBoxDeleted_Click" HorizontalAlignment="Center" Visibility="{Binding Path=IsMasterPromotion, Converter={StaticResource MyBooleanToVisibilityCollapsedConverter}}"/>
                                                                        </Grid>
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewColumn UniqueName="ColCopy" MinWidth="60" Width="60">
                                                                <telerik:GridViewColumn.Header>
                                                                    <Grid Width="60">
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="20"/>
                                                                            <ColumnDefinition Width="20"/>
                                                                        </Grid.ColumnDefinitions>
                                                                        <HyperlinkButton x:Name="btnRefresh2" Click="btnRefresh_Click" Grid.Column="0">
                                                                            <Grid>
                                                                                <Image Source="./images/arrow_refresh.png" Height="16" Width="16" Grid.Column="0" ToolTipService.ToolTip="Click to check the correct sort order."/>
                                                                            </Grid>
                                                                        </HyperlinkButton>
                                                                        <HyperlinkButton x:Name="btnResetColumnOrder" Click="btnResetColumnOrder_Click" Grid.Column="1">
                                                                            <Grid>
                                                                                <Image Source="./images/arrow_undo.png" Height="16" Width="16" Grid.Column="0" ToolTipService.ToolTip="Click to reset the column order."/>
                                                                            </Grid>
                                                                        </HyperlinkButton>
                                                                    </Grid>
                                                                </telerik:GridViewColumn.Header>
                                                                <telerik:GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <Grid MinWidth="60" Width="60">
                                                                            <HyperlinkButton x:Name="btnCopy" Command="{Binding CopyCommand, Source={StaticResource EstimateVM}}" CommandParameter="{Binding}" IsEnabled="False" HorizontalAlignment="Center">
                                                                                <Grid>
                                                                                    <Image Source="./images/copy.png" Height="16" Width="16" Grid.Column="0" ToolTipService.ToolTip="Copy item to create NSR" Opacity="0.3"/>
                                                                                </Grid>
                                                                            </HyperlinkButton>
                                                                        </Grid>
                                                                    </DataTemplate>
                                                                </telerik:GridViewColumn.CellTemplate>
                                                            </telerik:GridViewColumn>
                                                            <telerik:GridViewDataColumn  DataMemberBinding="{Binding Changes, Mode=OneWay}" IsReadOnly="True" Header="My Changes" TextAlignment="Center" UniqueName="ColChanges">
                                                                <telerik:GridViewDataColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding Changes}" TextAlignment="Center"/>
                                                                    </DataTemplate>
                                                                </telerik:GridViewDataColumn.CellTemplate>
                                                            </telerik:GridViewDataColumn>
                                                        </telerik:RadGridView.Columns>
                                                        <telerik:RadGridView.RowStyle>
                                                            <Style TargetType="telerik:GridViewRow">
                                                                <Setter Property="telerik:DragDropManager.AllowDrag"
                    Value="True" />
                                                                <Setter Property="telerik:DragDropManager.TouchDragTrigger"
                    Value="TapAndHold"/>
                                                            </Style>
                                                        </telerik:RadGridView.RowStyle>
                                                        <telerik:RadGridView.Resources>
                                                            <DataTemplate x:Key="DraggedItemTemplate">
                                                                <StackPanel>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <TextBlock Text="Moving Estimate Item "/>
                                                                        <TextBlock Text="{Binding CurrentDraggedItem.ProductName}" FontWeight="Bold"/>
                                                                    </StackPanel>
                                                                    <!--<StackPanel Orientation="Horizontal">
                                                                        <TextBlock Text="{Binding CurrentDropPosition}" FontWeight="Bold" MinWidth="45"/>
                                                                        <TextBlock Text=", (" Foreground="Gray" />
                                                                        <TextBlock Text="{Binding CurrentDraggedOverItem.ProductName}"/>
                                                                        <TextBlock Text=")" Foreground="Gray" />
                                                                    </StackPanel>-->
                                                                </StackPanel>
                                                            </DataTemplate>
                                                        </telerik:RadGridView.Resources>
                                                    </telerik:RadGridView>
                                                    <!--<telerik:DetailsPresenter x:Name="externalDetailsPresenter" Visibility="Collapsed" Height="120"/>-->
                                                </Grid>
                                            </DataTemplate>
                                        </telerik:RadTabControl.ContentTemplate>
                                    </telerik:RadTabControl>
                                </telerik:RadBusyIndicator>
                            </telerik:RadDocumentPane>
                        </telerik:RadPaneGroup>
                    </telerik:RadSplitContainer>
                </telerik:RadDocking.DocumentHost>

                <telerik:RadSplitContainer InitialPosition="DockedTop" Height="240" >
                    <telerik:RadPaneGroup>
                        <telerik:RadPane x:Name="EstimateInformationPane" Header="{Binding EstimateHeaderBrief}" telerik:RadDocking.SerializationTag="info" CanUserClose="False" IsPinned="False" FontWeight="Bold">
                            <telerik:RadBusyIndicator x:Name="EstimateInfoBusyIndicator" BusyContent="Loading..." IsBusy="{Binding IsBusyEstimateInfo}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="10"></RowDefinition>
                                        <RowDefinition Height="20"></RowDefinition>
                                        <RowDefinition Height="2"></RowDefinition>
                                        <RowDefinition Height="20"></RowDefinition>
                                        <RowDefinition Height="2"></RowDefinition>
                                        <RowDefinition Height="20"></RowDefinition>
                                        <RowDefinition Height="2"></RowDefinition>
                                        <RowDefinition Height="20"></RowDefinition>
                                        <RowDefinition Height="2"></RowDefinition>
                                        <RowDefinition Height="20"></RowDefinition>
                                        <RowDefinition Height="2"></RowDefinition>
                                        <RowDefinition Height="20"></RowDefinition>
                                        <RowDefinition Height="2"></RowDefinition>
                                        <RowDefinition Height="20"></RowDefinition>
                                        <RowDefinition Height="5"></RowDefinition>
                                        <RowDefinition Height="30"></RowDefinition>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="20"/>
                                        <ColumnDefinition Width="105"/>
                                        <ColumnDefinition Width="10"/>
                                        <ColumnDefinition Width="180"/>
                                        <ColumnDefinition Width="20"/>
                                        <ColumnDefinition Width="140"/>
                                        <ColumnDefinition Width="10"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="20"/>
                                        <ColumnDefinition Width="140"/>
                                        <ColumnDefinition Width="10"/>
                                        <ColumnDefinition Width="250"/>
                                        <ColumnDefinition Width="20"/>
                                        <ColumnDefinition Width="145"/>
                                        <ColumnDefinition Width="10"/>
                                        <ColumnDefinition Width="130"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <TextBlock Text="Customer Name:" FontWeight="Bold"  Grid.Row="1" Grid.Column="1"></TextBlock>
                                    <TextBox Text="{Binding CustomerName}" Grid.Row="1" Grid.Column="3" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Customer No:" FontWeight="Bold" Grid.Row="3" Grid.Column="1"></TextBlock>
                                    <TextBox Text="{Binding CustomerNo}" Grid.Row="3" Grid.Column="3" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Contract No:"  FontWeight="Bold" Grid.Row="5" Grid.Column="1"></TextBlock>
                                    <TextBox Text="{Binding ContractNo}" Grid.Row="5" Grid.Column="3" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Estimate No:"  FontWeight="Bold"  Grid.Row="7" Grid.Column="1"></TextBlock>
                                    <TextBox Text="{Binding EstimateNo}" Grid.Row="7" Grid.Column="3" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Revision No:"  FontWeight="Bold" Grid.Row="9" Grid.Column="1"></TextBlock>
                                    <TextBox Text="{Binding RevisionNo}" Grid.Row="9" Grid.Column="3" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Contract Type:"  FontWeight="Bold" Grid.Row="11" Grid.Column="1"></TextBlock>
                                    <TextBox Text="{Binding ContractType}" Grid.Row="11" Grid.Column="3" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Job Flow:"  FontWeight="Bold" Grid.Row="13" Grid.Column="1"></TextBlock>
                                    <TextBox Text="{Binding JobFlowType}" Grid.Row="13" Grid.Column="3" IsReadOnly="True"></TextBox>

                                    <TextBlock Text="Home Price:"  FontWeight="Bold" Grid.Row="1" Grid.Column="5"></TextBlock>
                                    <TextBox Text="{Binding HomePrice}" Grid.Row="1" Grid.Column="7" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Upgrades:"  FontWeight="Bold" Grid.Row="3" Grid.Column="5"></TextBlock>
                                    <TextBox Text="{Binding UpgradeValue}" Grid.Row="3" Grid.Column="7" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Promotion Value:"  FontWeight="Bold" Grid.Row="5" Grid.Column="5" Visibility="{Binding Path=ShowHeaderFields}"></TextBlock>
                                    <TextBox Text="{Binding PromotionValue}" Grid.Row="5" Grid.Column="7" IsReadOnly="True" Visibility="{Binding Path=ShowHeaderFields}"></TextBox>
                                    <TextBlock Text="Site Cost:"  FontWeight="Bold" Grid.Row="7" Grid.Column="5" Visibility="{Binding Path=ShowHeaderFields}"></TextBlock>
                                    <TextBox Text="{Binding SiteCost}" Grid.Row="7" Grid.Column="7"  IsReadOnly="True" Visibility="{Binding Path=ShowHeaderFields}"></TextBox>
                                    <TextBlock Text="Total Retail(inc GST):"  FontWeight="Bold" Grid.Row="9" Grid.Column="5" Visibility="{Binding Path=ShowHeaderFields}"></TextBlock>
                                    <TextBox Text="{Binding TotalPrice}" Grid.Row="9" Grid.Column="7" IsReadOnly="True" Visibility="{Binding Path=ShowHeaderFields}"></TextBox>
                                    <TextBlock Text="Total Retail(ex GST):"  FontWeight="Bold" Grid.Row="11" Grid.Column="5" Visibility="{Binding Path=ShowMargin}"></TextBlock>
                                    <TextBox Text="{Binding TotalPriceExc}" Grid.Row="11" Grid.Column="7" IsReadOnly="True" Visibility="{Binding Path=ShowMargin}"></TextBox>
                                    <TextBlock Text="Total Margin($):"  FontWeight="Bold" Grid.Row="13" Grid.Column="5" Visibility="{Binding Path=ShowMargin}"></TextBlock>
                                    <TextBox Text="{Binding TotalMargin}" Grid.Row="13" Grid.Column="7" IsReadOnly="True" Visibility="{Binding Path=ShowMargin}"></TextBox>

                                    <TextBlock Text="Home Name:"  FontWeight="Bold" Grid.Row="1" Grid.Column="9"></TextBlock>
                                    <TextBox Text="{Binding HomeName}" Grid.Row="1" Grid.Column="11" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Home Range:"  FontWeight="Bold" Grid.Row="3" Grid.Column="9"></TextBlock>
                                    <TextBox Text="{Binding HomeRange}" Grid.Row="3" Grid.Column="11" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Region:"  FontWeight="Bold" Grid.Row="5" Grid.Column="9"></TextBlock>
                                    <TextBox Text="{Binding Region}" Grid.Row="5" Grid.Column="11" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Price Effective Date:"  FontWeight="Bold" Grid.Row="7" Grid.Column="9"></TextBlock>
                                    <TextBox Text="{Binding EffectiveDate}" Grid.Row="7" Grid.Column="11" IsReadOnly="True"></TextBox>

                                    <TextBlock Text="Selected Promotion:"  FontWeight="Bold" Grid.Row="9" Grid.Column="9" Visibility="Collapsed"></TextBlock>
                                    <TextBox Text="{Binding SelectedPromotion}" Grid.Row="9" Grid.Column="11" Grid.ColumnSpan="5" IsReadOnly="True" Visibility="Collapsed"></TextBox>
                                    <TextBlock Text="Lot Address:"  FontWeight="Bold" Grid.Row="9" Grid.Column="9"></TextBlock>
                                    <TextBox Text="{Binding LotAddress}" Grid.Row="9" Grid.Column="11" Grid.ColumnSpan="5" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Current Cost(ex GST):"  FontWeight="Bold" Grid.Row="11" Grid.Column="9" Visibility="{Binding Path=ShowMargin}"></TextBlock>
                                    <TextBox Text="{Binding TotalCostBTP}" Grid.Row="11" Grid.Column="11" IsReadOnly="True" Visibility="{Binding Path=ShowMargin}"></TextBox>
                                    <TextBlock Text="Margin(%):"  FontWeight="Bold" Grid.Row="13" Grid.Column="9" Visibility="{Binding Path=ShowMargin}"></TextBlock>
                                    <TextBox Text="{Binding MarginString}" Grid.Row="13" Grid.Column="11" IsReadOnly="True" Visibility="{Binding Path=ShowMargin}"></TextBox>

                                    <TextBlock Text="Sales Consultant:"  FontWeight="Bold" Grid.Row="1" Grid.Column="13"></TextBlock>
                                    <TextBox Text="{Binding SalesConsultant}" Grid.Row="1" Grid.Column="15" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Sales Accept:"  FontWeight="Bold" Grid.Row="3" Grid.Column="13"></TextBlock>
                                    <TextBox Text="{Binding SalesAcceptor}" Grid.Row="3" Grid.Column="15" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Draftsperson:"  FontWeight="Bold" Grid.Row="5" Grid.Column="13"></TextBlock>
                                    <TextBox Text="{Binding DraftPerson}" Grid.Row="5" Grid.Column="15" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Sales Estimator:"  FontWeight="Bold" Grid.Row="7" Grid.Column="13"></TextBlock>
                                    <TextBox Text="{Binding SalesEstimator}" Grid.Row="7" Grid.Column="15" IsReadOnly="True"></TextBox>
                                    <TextBlock Text="Budgeted Cost(ex GST):"  FontWeight="Bold" Grid.Row="11" Grid.Column="13" Visibility="{Binding Path=ShowMargin}"></TextBlock>
                                    <TextBox Text="{Binding TotalCostDBC}" Grid.Row="11" Grid.Column="15" IsReadOnly="True" Visibility="{Binding Path=ShowMargin}"></TextBox>

                                    <Grid Grid.Row="15" Grid.Column="1" Grid.ColumnSpan="17" HorizontalAlignment="Left">
                                        <StackPanel Orientation="Horizontal">
                                            <!--<telerik:RadButton x:Name="btnBack" Width="100" Click="btnBack_Click">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/back.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Back</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnPrint"  Width="115" Margin="10,0,0,0" Click="btnPrint_Click">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/printer.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Print Preview</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnComments" Width="100" Margin="10,0,0,0" Click="btnComments_Click">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/comments.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Comments</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnAccept" Width="100" Margin="10,0,0,0" Click="btnAccept_Click">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/accept.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Accept</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnReject" Width="100" Margin="10,0,0,0" Visibility="{Binding RejectVisible, Converter={StaticResource MyBooleanToVisibilityConverter}}" Click="btnReject_Click">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/reject.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Reject</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnEdit"  Width="100" Margin="10,0,0,0" Visibility="{Binding EditVisible, Converter={StaticResource MyBooleanToVisibilityConverter}}" Click="btnEdit_Click">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/cart_edit.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Edit</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnSyncCustomerDetails"  Width="180" Margin="10,0,0,0" Command="{Binding SyncCommand, Source={StaticResource EstimateVM}}">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/arrow_rotate_clockwise.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Sync Customer Details</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnUnlock"  Width="100" Margin="10,0,0,0" Click="btnUnlock_Click">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/lock_open.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Unlock</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnHistory" Click="btnHistory_Click" Width="100" Height="23" Margin="10,0,0,0">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/history.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">History</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnCompare" Click="btnCompare_Click" Width="100" Height="23" Margin="10,0,0,0" >
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/compare.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Compare</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnDeletedItems" Click="btnDeletedItems_Click" Width="120" Height="23" Margin="10,0,0,0" >
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/cancel.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Deleted Items</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnPrintMargin" Click="btnPrintMargin_Click" Width="150" Height="23" Margin="10,0,0,0" Visibility="{Binding Path=ShowMargin}">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/printer.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Print Margin Details</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnSetDocumentType" Click="btnSetDocumentType_Click" Width="150" Height="23" Margin="10,0,0,0" Visibility="{Binding Path=ShowSetDocumentType}">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/folder_table.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0" Text="{Binding CustomerDocumentType}"></TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnSetStudioMAnswer" Click="btnSetStudioMAnswer_Click" Width="150" Height="23" Margin="10,0,0,0" Visibility="Collapsed" ToolTipService.ToolTip="Note: This button will auto answers products where there is 1 Brand and have 1 or many mandatory (drop down) with 1 answer.">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/green_box.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0" Text="Set Studio M Answer"></TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>
                                            <telerik:RadButton x:Name="btnSpellCheck" Click="btnSpellCheck_Click" Width="100" Height="23" Margin="10,0,0,0" >
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/book_edit.png" Height="16" Width="16"></Image>
                                                    <TextBlock Margin="10 0 0 0">Spell Check</TextBlock>
                                                </StackPanel>
                                            </telerik:RadButton>                                         
                                            <telerik:RadButton x:Name="btnAnswerAll" Click="btnAnswerAll_Click" Width="30" Height="23" Margin="10,0,0,0" Visibility="Collapsed" ToolTipService.ToolTip="Test use only.">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="./images/color_swatch1.png" Height="16" Width="16"></Image>
                                                </StackPanel>
                                            </telerik:RadButton>-->
                                            <telerik:RadMenu x:Name="menuActions" ClickToOpen="True" BorderThickness="1">
                                                <telerik:RadMenuItem x:Name="btnBack" Header="Back" Click="btnBack_Click" >
                                                    <telerik:RadMenuItem.Icon>
                                                        <Image Source="./images/back.png" Height="16" Width="16"></Image>
                                                    </telerik:RadMenuItem.Icon>
                                                </telerik:RadMenuItem>
                                                <telerik:RadMenuItem x:Name="btnPrint" Header="Print" Click="btnPrint_Click" Margin="20,0,0,0">
                                                    <telerik:RadMenuItem.Icon>
                                                        <Image Source="./images/printer.png" Height="16" Width="16"></Image>
                                                    </telerik:RadMenuItem.Icon>
                                                </telerik:RadMenuItem>
                                                <telerik:RadMenuItem x:Name="btnAccept"  Header="Complete" Click="btnAccept_Click" Margin="20,0,0,0">
                                                    <telerik:RadMenuItem.Icon>
                                                        <Image Source="./images/accept.png" Height="16" Width="16"></Image>
                                                    </telerik:RadMenuItem.Icon>
                                                </telerik:RadMenuItem>
                                                <telerik:RadMenuItem x:Name="btnReject" Header="Reject" Visibility="{Binding RejectVisible, Converter={StaticResource MyBooleanToVisibilityConverter}}" Click="btnReject_Click" Margin="20,0,0,0">
                                                    <telerik:RadMenuItem.Icon>
                                                        <Image Source="./images/reject.png" Height="16" Width="16"></Image>
                                                    </telerik:RadMenuItem.Icon>
                                                </telerik:RadMenuItem>
                                                <telerik:RadMenuItem x:Name="btnEdit" Header="Edit" Visibility="{Binding EditVisible, Converter={StaticResource MyBooleanToVisibilityConverter}}" Click="btnEdit_Click" Margin="20,0,0,0">
                                                    <telerik:RadMenuItem.Icon>
                                                        <Image Source="./images/cart_edit.png" Height="16" Width="16"></Image>
                                                    </telerik:RadMenuItem.Icon>
                                                </telerik:RadMenuItem>
                                                <telerik:RadMenuItem x:Name="btnSyncCustomerDetails" Header="Sync Customer Details" Command="{Binding SyncCommand, Source={StaticResource EstimateVM}}" Margin="20,0,0,0">
                                                    <telerik:RadMenuItem.Icon>
                                                        <Image Source="./images/arrow_rotate_clockwise.png" Height="16" Width="16"></Image>
                                                    </telerik:RadMenuItem.Icon>
                                                </telerik:RadMenuItem>
                                                <telerik:RadMenuItem x:Name="btnSetDocumentType" Header="{Binding CustomerDocumentType}" Visibility="{Binding Path=ShowSetDocumentType}" Click="btnSetDocumentType_Click" Margin="20,0,0,0">
                                                    <telerik:RadMenuItem.Icon>
                                                        <Image Source="./images/folder_table.png" Height="16" Width="16"></Image>
                                                    </telerik:RadMenuItem.Icon>
                                                </telerik:RadMenuItem>
                                                <telerik:RadMenuItem x:Name="btnSetAsContract" Header="Set as Contract" Visibility="{Binding Path=ShowSetAsContract}" Click="btnSetAsContract_Click" Margin="20,0,0,0">
                                                    <telerik:RadMenuItem.Icon>
                                                        <Image Source="./images/folder_table.png" Height="16" Width="16"></Image>
                                                    </telerik:RadMenuItem.Icon>
                                                </telerik:RadMenuItem>                                                
                                                <telerik:RadMenuItem x:Name="btnUnlock" Header="Unlock" Click="btnUnlock_Click" Margin="20,0,0,0">
                                                    <telerik:RadMenuItem.Icon>
                                                        <Image Source="./images/lock_open.png" Height="16" Width="16"></Image>
                                                    </telerik:RadMenuItem.Icon>
                                                </telerik:RadMenuItem>
                                                <telerik:RadMenuItem x:Name="btnAnswerAll" Header="Answer All Studio M" Visibility="Collapsed" Click="btnAnswerAll_Click" Margin="20,0,0,0">
                                                    <telerik:RadMenuItem.Icon>
                                                        <Image Source="./images/color_swatch1.png" Height="16" Width="16"></Image>
                                                    </telerik:RadMenuItem.Icon>
                                                </telerik:RadMenuItem>
                                                <telerik:RadMenuItem Header="More Actions..." Margin="20,0,0,0">
                                                    <telerik:RadMenuItem.Icon>
                                                        <Image Source="./images/color_swatch1.png" Height="16" Width="16"></Image>
                                                    </telerik:RadMenuItem.Icon>
                                                    <telerik:RadMenuItem x:Name="btnComments" Header="Comments" Click="btnComments_Click">
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/comments.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>
                                                    <telerik:RadMenuItem x:Name="btnHistory" Header="View History" Click="btnHistory_Click">
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/history.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>
                                                    <telerik:RadMenuItem x:Name="btnCompare" Header="Compare" Click="btnCompare_Click">
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/compare.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>
                                                    <telerik:RadMenuItem x:Name="btnDeletedItems" Header="Deleted Items" Click="btnDeletedItems_Click">
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/delete_new.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>
                                                    <telerik:RadMenuItem x:Name="btnEnterMargin" Header="Enter Margin Details" Click="btnEnterMargin_Click" Visibility="{Binding Path=ShowEnterMargin}">
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/book_edit.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>
                                                    <telerik:RadMenuItem x:Name="btnPrintMargin" Header="Print Margin Details" Click="btnPrintMargin_Click" Visibility="{Binding Path=ShowPrintMargin}">
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/printer.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>
                                                    <telerik:RadMenuItem x:Name="btnSetStudioMAnswer" Header="Set Studio M Answer" Click="btnSetStudioMAnswer_Click">
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/green_box.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>
                                                    <telerik:RadMenuItem x:Name="btnSpellCheck" Header="Spell Check" Click="btnSpellCheck_Click">
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/book_edit.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>
                                                    <telerik:RadMenuItem x:Name="btnChangeHomeName" Header="Change Home Name" Click="btnChangeHomeName_Click">
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/home_land_package.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>
                                                    <telerik:RadMenuItem x:Name="btnCopyEstimate" Header="Copy Estimate" Click="btnCopyEstimate_Click">
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/copy.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>
                                                    <telerik:RadMenuItem x:Name="btnRounding" Header="Apply Rounding" Click="btnRounding_Click">
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/arrow_rotate_clockwise.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>                                                    
                                                    <telerik:RadMenuItem x:Name="btnCustomerSign" Header="DocuSign" Visibility="Collapsed" Click="btnCustomerSign_Click">
                                                        <!--<telerik:RadMenuItem x:Name="btnCustomerSign" Header="DocuSign" Visibility="{Binding Path=ShowSetDocumentType}" Click="btnCustomerSign_Click">-->
                                                        <telerik:RadMenuItem.Icon>
                                                            <Image Source="./images/email_edit.png" Height="16" Width="16"></Image>
                                                        </telerik:RadMenuItem.Icon>
                                                    </telerik:RadMenuItem>
                                                </telerik:RadMenuItem>
                                            </telerik:RadMenu>
                                        </StackPanel>
                                    </Grid>
                                </Grid>
                            </telerik:RadBusyIndicator>
                        </telerik:RadPane>
                    </telerik:RadPaneGroup>
                </telerik:RadSplitContainer>

                <telerik:RadSplitContainer x:Name="BottomContainer" InitialPosition="DockedBottom" Height="400">
                    <telerik:RadPaneGroup x:Name="BottomPaneGroup" IsContentPreserved="True">
                        <telerik:RadPane  Header="Available Options" x:Name="OptionTreePane" telerik:RadDocking.SerializationTag="PaneLeft1" CanUserClose="False" IsPinned="False" ScrollViewer.VerticalScrollBarVisibility="Visible" CanFloat="False"  CanDockInDocumentHost="False">
                            <telerik:RadBusyIndicator Name="BusyIndicator2" BusyContent="Loading..." IsBusy="{Binding IsBusyOptionTree}">

                                <StackPanel>
                                    <telerik:RadGridView x:Name="RadGridView1" 
                                                         CanUserFreezeColumns="False" 
                                                         MaxHeight="370"
                                                         ShowGroupPanel="False"
                                                         ItemsSource="{Binding OptionTree}"
                                                         RowIndicatorVisibility="Collapsed"
                                                         RowLoaded="RadGridView1_RowLoaded"
                                                         FilterOperatorsLoading="RadGridView1_FilterOperatorsLoading"
                                                         Filtered="RadGridView_Filtered"
                                                         GroupRenderMode="Flat"
                                                         AutoGenerateColumns="False">

                                        <!--<telerik:RadGridView.GroupDescriptors>
                                            <telerik:GroupDescriptor Member="AreaName" SortDirection="Ascending"/>
                                            <telerik:GroupDescriptor Member="GroupName" SortDirection="Ascending" />
                                        </telerik:RadGridView.GroupDescriptors>-->
                                        <telerik:RadGridView.Columns>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding EstimateDetailsId, Mode=TwoWay}" IsReadOnly="True" IsResizable="False" Width="0" MaxWidth="0">
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding EstimateDetailsId}" />
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="Area" DataMemberBinding="{Binding AreaName, Mode=OneWay}" Width="100"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding AreaName}" TextWrapping="Wrap"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="Group" DataMemberBinding="{Binding GroupName, Mode=OneWay}" Width="100"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding GroupName}" TextWrapping="Wrap"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="Product" DataMemberBinding="{Binding ProductName, Mode=OneWay}" Width="250"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding ProductName}" TextWrapping="Wrap"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="Product Description" DataMemberBinding="{Binding ProductDescription, Mode=OneWay}" Width="250"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding ProductDescription}" TextWrapping="Wrap"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="Quantity" DataMemberBinding="{Binding Quantity, Mode= TwoWay}" Width="50" DataFormatString="{}{0:F}">
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Quantity}" />
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                                <telerik:GridViewDataColumn.CellEditTemplate>
                                                    <DataTemplate>
                                                        <TextBox Text="{Binding Quantity, Mode=TwoWay}"  />
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellEditTemplate>

                                            </telerik:GridViewDataColumn>

                                            <telerik:GridViewDataColumn Header="Unit Price" DataMemberBinding="{Binding Price, Mode= TwoWay}" Width="100" DataFormatString="{}{0:c}">
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Price, StringFormat=\{0:c2\}}" />
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                                <telerik:GridViewDataColumn.CellEditTemplate>
                                                    <DataTemplate>
                                                        <TextBox Text="{Binding SellPrice, Mode=TwoWay}"  />
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellEditTemplate>
                                            </telerik:GridViewDataColumn>

                                            <telerik:GridViewDataColumn Header="Sub Total" DataMemberBinding="{Binding TotalPrice, Mode= TwoWay}" Width="100" DataFormatString="{}{0:c}">
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding TotalPrice, StringFormat=\{0:c2\}}" />
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                                <telerik:GridViewDataColumn.CellEditTemplate>
                                                    <DataTemplate>
                                                        <TextBox Text="{Binding TotalPrice, Mode=TwoWay}"  />
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellEditTemplate>
                                            </telerik:GridViewDataColumn>

                                            <telerik:GridViewDataColumn Header="UOM" DataMemberBinding="{Binding Uom, Mode=OneWay}" Width="60"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Uom}" TextWrapping="Wrap"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <!--<telerik:GridViewDataColumn Header="Studio M" DataMemberBinding="{Binding StudioMProduct, Mode= OneWay}"  Width="40"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Image Source="{Binding StudioMIcon}" Height="16" Width="16" Grid.Column="0" ToolTipService.ToolTip="{Binding StudioMTooltips}"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>-->
                                            <telerik:GridViewDataColumn Header="SO/SI" DataMemberBinding="{Binding StandardOption, Mode= OneWay}" Width="80"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Image Source="{Binding SOSI}" Height="16" Width="16" Grid.Column="0" ToolTipService.ToolTip="{Binding SOSIToolTips}"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewColumn Width="80">
                                                <telerik:GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <!--<HyperlinkButton Command="{Binding AddCommand, Source={StaticResource EstimateVM}}"  CommandParameter="{Binding}">-->
                                                        <HyperlinkButton x:Name="btnAddOption" Click="btnAddOption_Click">
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="20"></ColumnDefinition>
                                                                    <ColumnDefinition Width="60"></ColumnDefinition>
                                                                </Grid.ColumnDefinitions>
                                                                <Image Source="./images/add.png" Height="16" Width="16" Grid.Column="0"/>
                                                                <TextBlock Grid.Column="1" HorizontalAlignment="Left">Add</TextBlock>
                                                            </Grid>
                                                        </HyperlinkButton>
                                                        <!--telerik:RadButton Content="Add to Estimate" Click="RadButton_Add_Click"/-->
                                                    </DataTemplate>
                                                </telerik:GridViewColumn.CellTemplate>
                                            </telerik:GridViewColumn>
                                            <telerik:GridViewColumn Width="80">
                                                <telerik:GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <HyperlinkButton x:Name="btnCopy" Command="{Binding CopyCommand, Source={StaticResource EstimateVM}}"  CommandParameter="{Binding}">
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="20"></ColumnDefinition>
                                                                    <ColumnDefinition Width="60"></ColumnDefinition>
                                                                </Grid.ColumnDefinitions>
                                                                <Image Source="./images/copy.png" Height="16" Width="16" Grid.Column="0"/>
                                                                <TextBlock Grid.Column="1" HorizontalAlignment="Left">Copy</TextBlock>
                                                            </Grid>
                                                        </HyperlinkButton>
                                                    </DataTemplate>
                                                </telerik:GridViewColumn.CellTemplate>
                                            </telerik:GridViewColumn>
                                        </telerik:RadGridView.Columns>
                                    </telerik:RadGridView>

                                </StackPanel>

                            </telerik:RadBusyIndicator>
                        </telerik:RadPane>

                        <telerik:RadPane Header="Templates" x:Name="AdditionalNotesPane" telerik:RadDocking.SerializationTag="PaneLeft2" CanUserClose="False" IsPinned="False" ScrollViewer.VerticalScrollBarVisibility="Visible" CanFloat="False" CanDockInDocumentHost="False">
                            <ScrollViewer VerticalScrollBarVisibility="Visible" VerticalContentAlignment="Stretch">
                                <Grid Background="Transparent">
                                    <telerik:RadGridView x:Name="RadGridView2" 
                                                         CanUserFreezeColumns="False" 
                                                         ShowGroupPanel="False"
                                                         ItemsSource="{Binding NotesTemplateTree}"
                                                         RowIndicatorVisibility="Collapsed" 
                                                         RowStyleSelector="{StaticResource naStyle}" CellLoaded="RadGridView2_CellLoaded"
                                                         GroupRenderMode="Flat"
                                                         Filtered="RadGridView_Filtered"
                                                         AutoGenerateColumns="False">
                                        <telerik:RadGridView.GroupDescriptors>
                                            <telerik:GroupDescriptor Member="TemplateName" SortDirection="Ascending" />
                                        </telerik:RadGridView.GroupDescriptors>
                                        <telerik:RadGridView.GroupHeaderTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="20"></RowDefinition>
                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="400"></ColumnDefinition>
                                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="{Binding Group.Key}" Grid.Column="0"/>
                                                    <HyperlinkButton Grid.Column="1" Command="{Binding AddNotesCommand, Source={StaticResource EstimateVM}}"  CommandParameter="{Binding Group.Key}">
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="20"></ColumnDefinition>
                                                                <ColumnDefinition Width="150"></ColumnDefinition>
                                                            </Grid.ColumnDefinitions>
                                                            <Image Source="./images/add.png" Height="16" Width="16" Grid.Column="0"/>
                                                            <TextBlock Grid.Column="1" HorizontalAlignment="Left">Add Notes Template</TextBlock>
                                                        </Grid>
                                                    </HyperlinkButton>
                                                </Grid>
                                            </DataTemplate>
                                        </telerik:RadGridView.GroupHeaderTemplate>
                                        <telerik:RadGridView.Columns>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding EstimateDetailsId, Mode=TwoWay}" IsReadOnly="True" IsResizable="False" Width="0" MaxWidth="0">
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding EstimateDetailsID}" />
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="Area" DataMemberBinding="{Binding AreaName, Mode=OneWay}" Width="80"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding AreaName}" TextWrapping="Wrap"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="Group" DataMemberBinding="{Binding GroupName, Mode=OneWay}" Width="80"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding GroupName}" TextWrapping="Wrap"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="Product" DataMemberBinding="{Binding ProductName, Mode=OneWay}" Width="250"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding ProductName}" TextWrapping="Wrap"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="Product Description" DataMemberBinding="{Binding ProductDescription, Mode=OneWay}" Width="700"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding ProductDescription}" TextWrapping="Wrap"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="Quantity" DataMemberBinding="{Binding Quantity, Mode=OneWay}" Width="70"  IsReadOnly="True" >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Quantity}" TextWrapping="Wrap"/>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding Price}" IsReadOnly="True"  Header="Price" Width="Auto">
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Price, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding UseDefaultQuantity}" IsReadOnly="True"  Header="Use Default Qty" Width="Auto">
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <CheckBox x:Name="chkAccept" IsChecked="{Binding UseDefaultQuantity,Mode=OneWay}"  HorizontalAlignment="Center" IsEnabled="False" />
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewColumn UniqueName="naColumn" Width="50" IsReadOnly="True">
                                                <telerik:GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Image Stretch="None" Source="./images/exclamation.png" HorizontalAlignment="Center" Visibility="Collapsed">
                                                            <ToolTipService.ToolTip>
                                                                <StackPanel Orientation="Vertical">
                                                                    <TextBlock>This option is not available for the selected home.</TextBlock>
                                                                    <TextBlock>It will not be added to the Estimate when this Notes Template is selected.</TextBlock>
                                                                </StackPanel>
                                                            </ToolTipService.ToolTip>
                                                        </Image>
                                                    </DataTemplate>
                                                </telerik:GridViewColumn.CellTemplate>
                                            </telerik:GridViewColumn>
                                        </telerik:RadGridView.Columns>
                                    </telerik:RadGridView>
                                </Grid>
                            </ScrollViewer>
                        </telerik:RadPane>

                        <telerik:RadPane Header="Estimate Comments" x:Name="CommentsPane" telerik:RadDocking.SerializationTag="PaneRight1" CanUserClose="False" IsPinned="False" CanFloat="False" CanDockInDocumentHost="False">
                            <telerik:RadGridView x:Name="gridcomments" 
                                                    CanUserFreezeColumns="False" 
                                                    ShowGroupPanel="False"
                                                    ItemsSource="{Binding Comments}"
                                                    RowIndicatorVisibility="Collapsed"
                                                    AutoGenerateColumns="False">
                                <telerik:RadGridView.Columns>
                                    <telerik:GridViewDataColumn  IsReadOnly="True" IsResizable="False" Header="Historical Comments" Width="*" >
                                        <telerik:GridViewDataColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Comments}"  TextWrapping="Wrap" />
                                            </DataTemplate>
                                        </telerik:GridViewDataColumn.CellTemplate>
                                    </telerik:GridViewDataColumn>
                                </telerik:RadGridView.Columns>
                            </telerik:RadGridView>
                        </telerik:RadPane>

                        <!--c<telerik:RadPane Header="Documents" x:Name="DocumentsPane" telerik:RadDocking.SerializationTag="PaneRight2" CanUserClose="False" IsPinned="False" CanFloat="False" CanDockInDocumentHost="False">
                            <telerik:RadHtmlPlaceholder x:Name="sharePointPlaceHolder" SourceUrl="{Binding SharePointFolderUrl}" ScrollViewer.VerticalScrollBarVisibility="Auto" KeepContentInMemory="True"></telerik:RadHtmlPlaceholder>
                        </telerik:RadPane>-->

                        <telerik:RadPane Header="Other Options Look up" x:Name="OtherOptionsPane" telerik:RadDocking.SerializationTag="PaneRight3" CanUserClose="False" IsPinned="False" CanFloat="False" CanDockInDocumentHost="False" Loaded="OtherOptionsPane_Loaded" >
                            <StackPanel>
                                <Grid Width="Auto">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="40"></RowDefinition>
                                        <RowDefinition Height="*"></RowDefinition>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10,10,0,0" Text="Price Region:" Grid.Row="0"></TextBlock>
                                    <telerik:RadComboBox VerticalAlignment="Top" HorizontalAlignment="Left" Grid.Row="0" Margin="130,10,0,0" Width="240" x:Name="cmbRegion" ItemsSource="{Binding Path=SalesRegions, Mode=OneWay}" SelectedValue="{Binding Path=SelectedRegionId, Mode=OneWay}"  DisplayMemberPath="RegionName"  SelectedValuePath="RegionID"></telerik:RadComboBox>
                                    <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" Margin="400,10,0,0" Grid.Row="0" Text="Home:"></TextBlock>
                                    <telerik:RadComboBox VerticalAlignment="Top" HorizontalAlignment="Left" Margin="450,10,0,0" Grid.Row="0" Width="340" x:Name="cmbHome" ItemsSource="{Binding Path=SQSHomes, Mode=OneWay}" SelectedIndex="0"  DisplayMemberPath="HomeName"  SelectedValuePath="HomeID"></telerik:RadComboBox>
                                    <!--<CheckBox x:Name="chkdisplay" IsChecked="False" Checked="chkdisplay_Checked" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="850,10,0,0">Displaly only</CheckBox>-->
                                    <telerik:RadButton x:Name="btnLoad" Click="btnLoad_Click" Width="90" Height="20" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="960,10,0,0" ToolTipService.ToolTip="Search for the products.">
                                        <StackPanel Orientation="Horizontal">
                                            <Image Source="./images/search.png" Height="16" Width="16" ></Image>
                                            <TextBlock Margin="10 0 0 0">Search</TextBlock>

                                        </StackPanel>
                                    </telerik:RadButton>
                                    <telerik:RadBusyIndicator Name="BusyIndicator3" BusyContent="Loading..." IsBusy="{Binding IsBusyOptionTree3}" Grid.Row="1">
                                        <telerik:RadGridView x:Name="RadGridOtherOption" 
                                                        CanUserFreezeColumns="False" 
                                                        MaxHeight="370"
                                                        ShowGroupPanel="False"
                                                        ItemsSource="{Binding OtherHomeOptionTree}"
                                                        RowIndicatorVisibility="Collapsed"
                                                        FilterOperatorsLoading="RadGridOtherOption_FilterOperatorsLoading"
                                                        Filtered="RadGridView_Filtered"
                                                        GroupRenderMode="Flat"
                                                        AutoGenerateColumns="False">

                                            <!--<telerik:RadGridView.GroupDescriptors>
                                        <telerik:GroupDescriptor Member="AreaName" SortDirection="Ascending"/>
                                        <telerik:GroupDescriptor Member="GroupName" SortDirection="Ascending" />
                                    </telerik:RadGridView.GroupDescriptors>-->
                                            <telerik:RadGridView.Columns>
                                                <telerik:GridViewDataColumn DataMemberBinding="{Binding EstimateDetailsId, Mode=TwoWay}" IsReadOnly="True" IsResizable="False" Width="0" MaxWidth="0">
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding EstimateDetailsId}" />
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn Header="Area" DataMemberBinding="{Binding AreaName, Mode=OneWay}" Width="100"  IsReadOnly="True" >
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding AreaName}" TextWrapping="Wrap"/>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn Header="Group" DataMemberBinding="{Binding GroupName, Mode=OneWay}" Width="100"  IsReadOnly="True" >
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding GroupName}" TextWrapping="Wrap"/>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn Header="Product" DataMemberBinding="{Binding ProductName, Mode=OneWay}" Width="250"  IsReadOnly="True" >
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding ProductName}" TextWrapping="Wrap"/>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn Header="Product Description" DataMemberBinding="{Binding ProductDescription, Mode=OneWay}" Width="250"  IsReadOnly="True" >
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding ProductDescription}" TextWrapping="Wrap"/>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn Header="Quantity" DataMemberBinding="{Binding Quantity, Mode= TwoWay}" Width="50" DataFormatString="{}{0:F}">
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Quantity}" />
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                    <telerik:GridViewDataColumn.CellEditTemplate>
                                                        <DataTemplate>
                                                            <TextBox Text="{Binding Quantity, Mode=TwoWay}"  />
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellEditTemplate>

                                                </telerik:GridViewDataColumn>

                                                <telerik:GridViewDataColumn Header="Sell Price" DataMemberBinding="{Binding Price, Mode= TwoWay}" Width="100" DataFormatString="{}{0:c}">
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Price}" />
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                    <telerik:GridViewDataColumn.CellEditTemplate>
                                                        <DataTemplate>
                                                            <TextBox Text="{Binding SellPrice, Mode=TwoWay}"  />
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellEditTemplate>
                                                </telerik:GridViewDataColumn>

                                                <telerik:GridViewDataColumn Header="UOM" DataMemberBinding="{Binding Uom, Mode=OneWay}" Width="60"  IsReadOnly="True" >
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Uom}" TextWrapping="Wrap"/>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <!--<telerik:GridViewDataColumn Header="Studio M" DataMemberBinding="{Binding StudioMProduct, Mode= OneWay}"  Width="40"  IsReadOnly="True" >
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <Image Source="{Binding StudioMIcon}" Height="16" Width="16" Grid.Column="0" ToolTipService.ToolTip="{Binding StudioMTooltips}"/>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>-->
                                                <telerik:GridViewDataColumn Header="SO/SI" DataMemberBinding="{Binding StandardOption, Mode= OneWay}" Width="80"  IsReadOnly="True" >
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <Image Source="{Binding SOSI}" Height="16" Width="16" Grid.Column="0" ToolTipService.ToolTip="{Binding SOSIToolTips}"/>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewColumn Width="80">
                                                    <telerik:GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <HyperlinkButton x:Name="btnCopy" Command="{Binding CopyFromHomeCommand, Source={StaticResource EstimateVM}}"  CommandParameter="{Binding}" ToolTipService.ToolTip="Copy to create non-standard item.">
                                                                <Grid>
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="20"></ColumnDefinition>
                                                                        <ColumnDefinition Width="60"></ColumnDefinition>
                                                                    </Grid.ColumnDefinitions>
                                                                    <Image Source="./images/copy.png" Height="16" Width="16" Grid.Column="0"/>
                                                                    <TextBlock Grid.Column="1" HorizontalAlignment="Left">Copy</TextBlock>
                                                                </Grid>
                                                            </HyperlinkButton>
                                                        </DataTemplate>
                                                    </telerik:GridViewColumn.CellTemplate>
                                                </telerik:GridViewColumn>
                                            </telerik:RadGridView.Columns>
                                        </telerik:RadGridView>
                                    </telerik:RadBusyIndicator>
                                </Grid>
                            </StackPanel>
                        </telerik:RadPane>
                        <telerik:RadPane Header="Search product" x:Name="SearchProductPane" telerik:RadDocking.SerializationTag="PaneRight3" CanUserClose="False" IsPinned="False" CanFloat="False" CanDockInDocumentHost="False" Loaded="SearchProductPane_Loaded" >
                            <StackPanel>
                                <Grid Width="Auto">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="40"></RowDefinition>
                                        <RowDefinition Height="*"></RowDefinition>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10,10,0,0" Text="Price Region:" Grid.Row="0"></TextBlock>
                                    <telerik:RadComboBox VerticalAlignment="Top" HorizontalAlignment="Left" Grid.Row="0" Margin="100,10,0,0" Width="240" x:Name="cmbRegionSearchProduct" ItemsSource="{Binding Path=SalesRegions, Mode=OneWay}" SelectedValue="{Binding Path=SelectedRegionId, Mode=OneWay}"  DisplayMemberPath="RegionName"  SelectedValuePath="RegionID"></telerik:RadComboBox>
                                    <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" Margin="400,10,0,0" Grid.Row="0" Text="Product:"></TextBlock>
                                    <TextBox VerticalAlignment="Top" HorizontalAlignment="Left" Margin="465,7,0,0" Grid.Row="0" Width="400" x:Name="textboxProduct"></TextBox>
                                    <!--<CheckBox x:Name="chkdisplay" IsChecked="False" Checked="chkdisplay_Checked" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="850,10,0,0">Displaly only</CheckBox>-->
                                    <telerik:RadButton x:Name="btnLoadSearchProduct" Click="btnLoadSearchProduct_Click" Width="90" Height="20" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="885,10,0,0" ToolTipService.ToolTip="Search for the products.">
                                        <StackPanel Orientation="Horizontal">
                                            <Image Source="./images/search.png" Height="16" Width="16" ></Image>
                                            <TextBlock Margin="10 0 0 0">Search</TextBlock>

                                        </StackPanel>
                                    </telerik:RadButton>
                                    <telerik:RadBusyIndicator Name="BusyIndicator4" BusyContent="Loading..." IsBusy="{Binding IsBusyOptionTree4}" Grid.Row="1">
                                        <telerik:RadGridView x:Name="RadGridSearchProduct" 
                                                        CanUserFreezeColumns="False" 
                                                        MaxHeight="370"
                                                        ShowGroupPanel="False"
                                                        ItemsSource="{Binding SearchAllProductsOptionTree}"
                                                        RowIndicatorVisibility="Collapsed"
                                                        FilterOperatorsLoading="RadGridSearchProduct_FilterOperatorsLoading_1"
                                                        Filtered="RadGridView_Filtered"
                                                        GroupRenderMode="Flat"
                                                        AutoGenerateColumns="False">

                                            <!--<telerik:RadGridView.GroupDescriptors>
                                        <telerik:GroupDescriptor Member="AreaName" SortDirection="Ascending"/>
                                        <telerik:GroupDescriptor Member="GroupName" SortDirection="Ascending" />
                                    </telerik:RadGridView.GroupDescriptors>-->
                                            <telerik:RadGridView.Columns>
                                                <telerik:GridViewDataColumn DataMemberBinding="{Binding EstimateDetailsId, Mode=TwoWay}" IsReadOnly="True" IsResizable="False" Width="0" MaxWidth="0">
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding EstimateDetailsId}" />
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn Header="Product" DataMemberBinding="{Binding ProductName, Mode=OneWay}" Width="300"  IsReadOnly="True" >
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding ProductName}" TextWrapping="Wrap"/>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn Header="Product Description" DataMemberBinding="{Binding ProductDescription, Mode=OneWay}" Width="500"  IsReadOnly="True" >
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding ProductDescription}" TextWrapping="Wrap"/>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn Header="Sell Price" DataMemberBinding="{Binding Price, Mode= TwoWay}" Width="100" DataFormatString="{}{0:c}">
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Price}" />
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                    <telerik:GridViewDataColumn.CellEditTemplate>
                                                        <DataTemplate>
                                                            <TextBox Text="{Binding SellPrice, Mode=TwoWay}"  />
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellEditTemplate>
                                                </telerik:GridViewDataColumn>

                                                <telerik:GridViewDataColumn Header="UOM" DataMemberBinding="{Binding Uom, Mode=OneWay}" Width="60"  IsReadOnly="True" >
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Uom}" TextWrapping="Wrap"/>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>

                                                <telerik:GridViewColumn Width="80">
                                                    <telerik:GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <HyperlinkButton x:Name="btnCopy" Command="{Binding CopyFromAllProductsCommand, Source={StaticResource EstimateVM}}" CommandParameter="{Binding}" ToolTipService.ToolTip="Copy to create non-standard item.">
                                                                <Grid>
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="20"></ColumnDefinition>
                                                                        <ColumnDefinition Width="60"></ColumnDefinition>
                                                                    </Grid.ColumnDefinitions>
                                                                    <Image Source="./images/copy.png" Height="16" Width="16" Grid.Column="0"/>
                                                                    <TextBlock Grid.Column="1" HorizontalAlignment="Left">Copy</TextBlock>
                                                                </Grid>
                                                            </HyperlinkButton>
                                                        </DataTemplate>
                                                    </telerik:GridViewColumn.CellTemplate>
                                                </telerik:GridViewColumn>
                                            </telerik:RadGridView.Columns>
                                        </telerik:RadGridView>
                                    </telerik:RadBusyIndicator>
                                </Grid>
                            </StackPanel>
                        </telerik:RadPane>

                        <!--<telerik:RadPane Header="Documents" x:Name="DocumentsPane" telerik:RadDocking.SerializationTag="PaneRight2" CanUserClose="False" IsPinned="False" CanFloat="False" CanDockInDocumentHost="False">
                            <StackPanel>                              
                                    <Grid>                                  
                                        <telerik:RadGridView x:Name="gridfiles" 
                                                    CanUserFreezeColumns="False" 
                                                    ShowGroupPanel="False"
                                                    ItemsSource="{Binding SharepointDocuments}"
                                                    RowIndicatorVisibility="Collapsed"
                                                    AutoGenerateColumns="False"
                                                    HorizontalAlignment="Left"
                                                    Margin="0,10,0,0"
                                                    Width="700"
                                                 >
                                <telerik:RadGridView.Columns>
                                    <telerik:GridViewDataColumn  IsReadOnly="True" IsResizable="True" Header="Document Name" Width="300" >
                                        <telerik:GridViewDataColumn.CellTemplate>
                                            <DataTemplate>
                                                <HyperlinkButton ToolTipService.ToolTip="Click to view the document." Content="{Binding DocumentName}" TargetName="_blank" NavigateUri="{Binding FileURI}">
                                                </HyperlinkButton>
                                                
                                            </DataTemplate>
                                        </telerik:GridViewDataColumn.CellTemplate>
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn  IsReadOnly="True" IsResizable="True" Header="Document Category" Width="Auto" >
                                        <telerik:GridViewDataColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding DocumentCategory}"  TextWrapping="Wrap" />
                                            </DataTemplate>
                                        </telerik:GridViewDataColumn.CellTemplate>
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn  IsReadOnly="True" IsResizable="True" Header="Document Type" Width="Auto" >
                                        <telerik:GridViewDataColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding DocumentType}"  TextWrapping="Wrap" />
                                            </DataTemplate>
                                        </telerik:GridViewDataColumn.CellTemplate>
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn  IsReadOnly="True" IsResizable="True" Header="Document Group" Width="Auto" >
                                        <telerik:GridViewDataColumn.CellTemplate>
                                            <DataTemplate>
                                                 <TextBlock Text="{Binding DocumentGroup}"  TextWrapping="Wrap" />
                                            </DataTemplate>
                                        </telerik:GridViewDataColumn.CellTemplate>
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewColumn Width="40">
                                        <telerik:GridViewColumn.CellTemplate>
                                            <DataTemplate>
                                                <HyperlinkButton x:Name="btnDeleteFile" Click="btnDeleteFile_Click">
                                                    <Grid>
                                                        <Image Source="./images/delete.png" Height="16" Width="16" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="5,5,5,5" ToolTipService.ToolTip="Delete file."/>
                                                    </Grid>
                                                </HyperlinkButton>
                                            </DataTemplate>
                                        </telerik:GridViewColumn.CellTemplate>
                                    </telerik:GridViewColumn>
                                        </telerik:RadGridView.Columns>
                            </telerik:RadGridView>
                                    <Grid VerticalAlignment="Top" HorizontalAlignment="Left" Margin="740,10,0,0">
                                        <Border BorderBrush="Black" Width="500" Height="130" BorderThickness="1">
                                                                       <Grid VerticalAlignment="Top" HorizontalAlignment="Left" Margin="0,0,0,0" Background="AliceBlue" Width="500" Height="130">
                                                <StackPanel Height="30" Width="500" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="0,0,0,0" Background="#000066" >
                                                    <TextBlock Foreground="#FFFFFF" Margin="5,5,5,5" FontWeight="Bold">Upload Files</TextBlock>
                                                </StackPanel>
                                                    <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10,40,0,0" Text="Document Type:"></TextBlock>
                                            <telerik:RadComboBox VerticalAlignment="Top" HorizontalAlignment="Left" Margin="130,40,0,0" Width="240" x:Name="cmbDocType" ItemsSource="{Binding Path=SharepointDocType, Mode=OneWay}" SelectedIndex="0"  DisplayMemberPath="DocumentType"  SelectedValuePath="DocumentTypeID"></telerik:RadComboBox>
                                            <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10,80,0,0" Text="File Name:"></TextBlock>
                                            <TextBox VerticalAlignment="Top" HorizontalAlignment="Left" x:Name="txtFileName" Width="240" Margin="130,80,0,0" Height="22"  IsReadOnly="True" ></TextBox>

                                                <telerik:RadButton x:Name="btnOpen" Click="RadButton_Click" Width="20" Height="20" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="380,80,0,0" ToolTipService.ToolTip="Select and uopload file.">
                                                    <StackPanel Orientation="Horizontal">
                                                        <Image Source="./images/attach.png" Height="16" Width="16" ></Image>
    
                                                    </StackPanel>
                                                </telerik:RadButton>

                                                </Grid>
                                      
                                        </Border>
                                    </Grid>
                                    </Grid>
                                
                            </StackPanel>
                        </telerik:RadPane>-->
                    </telerik:RadPaneGroup>
                </telerik:RadSplitContainer>



                <!--<telerik:RadSplitContainer InitialPosition="DockedBottom">
                        <telerik:RadPaneGroup>

                            <telerik:RadPane Header="Edit Option Details" IsPinned="True" CanUserClose="False" >
                                <StackPanel>

                                    <telerik:DetailsPresenter x:Name="externalDetailsPresenter" Visibility="Visible" Height="300"/>
                                       
                                </StackPanel>
                            </telerik:RadPane>
                        </telerik:RadPaneGroup>
                    </telerik:RadSplitContainer>-->
            </telerik:RadDocking>
        </Grid>

    </Grid>

</navigation:Page>
